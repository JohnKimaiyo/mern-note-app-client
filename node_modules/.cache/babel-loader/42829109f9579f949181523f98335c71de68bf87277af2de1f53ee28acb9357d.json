{"ast":null,"code":"var _jsxFileName = \"/media/jki/Docs & Software & Documentaries/TECH/coding projects/mern crud app/the web designer/crud-client/src/App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  // State\n  const [notes, setNotes] = useState(null);\n  const [createForm, setCreateForm] = useState({\n    title: \"\",\n    body: \"\"\n  });\n  const [updateForm, setUpdateForm] = useState({\n    _id: null,\n    title: \"\",\n    body: \"\"\n  });\n\n  // Use effect\n  useEffect(() => {\n    fetchNotes();\n  }, []);\n  const fetchNotes = async () => {\n    // Fetch the notes\n    const res = await axios.get(\"http://localhost:3000/notes\");\n\n    // Set to state\n    setNotes(res.data.notes);\n  };\n\n  // update form\n  const updateCreateFormField = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setCreateForm({\n      ...createForm,\n      [name]: value\n    });\n  };\n  const createNote = async e => {\n    e.preventDefault();\n    const res = await axios.post(\"http://localhost:3000/notes\", createForm);\n    setNotes([...notes, res.data.note]);\n    setCreateForm({\n      title: \"\",\n      body: \"\"\n    });\n  };\n  const deleteNote = async _id => {\n    // Delete the note\n    const res = await axios.delete(`http://localhost:3000/notes/${_id}`);\n\n    // Update state\n    const newNotes = [...notes].filter(note => {\n      return note._id !== _id;\n    });\n    setNotes(newNotes);\n  };\n  const handleUpdateFieldChange = e => {\n    const {\n      value,\n      name\n    } = e.target;\n    setUpdateForm({\n      ...updateForm,\n      [name]: value\n    });\n  };\n  const toggleUpdate = note => {\n    // Set state on update form\n    setUpdateForm({\n      title: note.title,\n      body: note.body,\n      _id: note._id\n    });\n  };\n  const updateNote = async e => {\n    e.preventDefault();\n    const {\n      title,\n      body\n    } = updateForm;\n\n    // Send the update request\n    const res = await axios.put(`http://localhost:3000/notes/${updateForm._id}`, {\n      title,\n      body\n    });\n\n    // Update state\n    const newNotes = [...notes];\n    const noteIndex = notes.findIndex(note => {\n      return note._id === updateForm._id;\n    });\n    newNotes[noteIndex] = res.data.note;\n    setNotes(newNotes);\n\n    // Clear update form state\n    setUpdateForm({\n      _id: null,\n      title: \"\",\n      body: \"\"\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Notes:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), notes && notes.map(note => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: note.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => deleteNote(note._id),\n            children: \"Delete note\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => toggleUpdate(note),\n            children: \"Update note\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 17\n          }, this)]\n        }, note._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 15\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), updateForm._id && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Update note\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: updateNote,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleUpdateFieldChange,\n          value: updateForm.title,\n          name: \"title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          onChange: handleUpdateFieldChange,\n          value: updateForm.body,\n          name: \"body\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Update note\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }, this), !updateForm._id && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create note\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: createNote,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: updateCreateFormField,\n          value: createForm.title,\n          name: \"title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          onChange: updateCreateFormField,\n          value: createForm.body,\n          name: \"body\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Create note\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"uauwqO9uAjnAmvesDGN2NIzPuHo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","axios","App","notes","setNotes","createForm","setCreateForm","title","body","updateForm","setUpdateForm","_id","fetchNotes","res","get","data","updateCreateFormField","e","name","value","target","createNote","preventDefault","post","note","deleteNote","delete","newNotes","filter","handleUpdateFieldChange","toggleUpdate","updateNote","put","noteIndex","findIndex","map"],"sources":["/media/jki/Docs & Software & Documentaries/TECH/coding projects/mern crud app/the web designer/crud-client/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nfunction App() {\n  // State\n  const [notes, setNotes] = useState(null);\n  const [createForm, setCreateForm] = useState({\n    title: \"\",\n    body: \"\",\n  });\n  const [updateForm, setUpdateForm] = useState({\n    _id: null,\n    title: \"\",\n    body: \"\",\n  });\n\n  // Use effect\n  useEffect(() => {\n    fetchNotes();\n  }, []);\n\n  const fetchNotes = async () => {\n    // Fetch the notes\n    const res = await axios.get(\"http://localhost:3000/notes\");\n\n    // Set to state\n    setNotes(res.data.notes);\n  };\n\n  // update form\n  const updateCreateFormField = (e) => {\n    const { name, value } = e.target;\n\n    setCreateForm({\n      ...createForm,\n      [name]: value,\n    });\n  };\n\n  const createNote = async (e) => {\n    e.preventDefault();\n\n    const res = await axios.post(\"http://localhost:3000/notes\", createForm);\n\n    setNotes([...notes, res.data.note]);\n\n    setCreateForm({\n      title: \"\",\n      body: \"\",\n    });\n  };\n\n  const deleteNote = async (_id) => {\n    // Delete the note\n    const res = await axios.delete(`http://localhost:3000/notes/${_id}`);\n\n    // Update state\n    const newNotes = [...notes].filter((note) => {\n      return note._id !== _id;\n    });\n\n    setNotes(newNotes);\n  };\n\n  const handleUpdateFieldChange = (e) => {\n    const { value, name } = e.target;\n\n    setUpdateForm({\n      ...updateForm,\n      [name]: value,\n    });\n  };\n\n  const toggleUpdate = (note) => {\n    // Set state on update form\n    setUpdateForm({ title: note.title, body: note.body, _id: note._id });\n  };\n\n  const updateNote = async (e) => {\n    e.preventDefault();\n\n    const { title, body } = updateForm;\n\n    // Send the update request\n    const res = await axios.put(\n      `http://localhost:3000/notes/${updateForm._id}`,\n      { title, body }\n    );\n\n    // Update state\n    const newNotes = [...notes];\n    const noteIndex = notes.findIndex((note) => {\n      return note._id === updateForm._id;\n    });\n    newNotes[noteIndex] = res.data.note;\n\n    setNotes(newNotes);\n\n    // Clear update form state\n    setUpdateForm({\n      _id: null,\n      title: \"\",\n      body: \"\",\n    });\n  };\n\n  return (\n    <div className=\"App\">\n      <div>\n        <h2>Notes:</h2>\n        {notes &&\n          notes.map((note) => {\n            return (\n              <div key={note._id}>\n                <h3>{note.title}</h3>\n                <button onClick={() => deleteNote(note._id)}>\n                  Delete note\n                </button>\n                <button onClick={() => toggleUpdate(note)}>Update note</button>\n              </div>\n            );\n          })}\n      </div>\n\n      {updateForm._id && (\n        <div>\n          <h2>Update note</h2>\n          <form onSubmit={updateNote}>\n            <input\n              onChange={handleUpdateFieldChange}\n              value={updateForm.title}\n              name=\"title\"\n            />\n            <textarea\n              onChange={handleUpdateFieldChange}\n              value={updateForm.body}\n              name=\"body\"\n            />\n            <button type=\"submit\">Update note</button>\n          </form>\n        </div>\n      )}\n\n      {!updateForm._id && (\n        <div>\n          <h2>Create note</h2>\n          <form onSubmit={createNote}>\n            <input\n              onChange={updateCreateFormField}\n              value={createForm.title}\n              name=\"title\"\n            />\n            <textarea\n              onChange={updateCreateFormField}\n              value={createForm.body}\n              name=\"body\"\n            />\n            <button type=\"submit\">Create note</button>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}